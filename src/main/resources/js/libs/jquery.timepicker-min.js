(function(a){if(typeof module==="object"&&typeof module.exports==="object"){a(require("jquery"),window,document)}else{if(typeof jQuery!=="undefined"){a(jQuery,window,document)}}}(function(c,b,a,d){(function(){function f(i,g,h){return(new Array(h+1-i.length).join(g))+i}function e(){if(arguments.length===1){var g=arguments[0];if(typeof g==="string"){g=c.fn.timepicker.parseTime(g)}return new Date(0,0,0,g.getHours(),g.getMinutes(),g.getSeconds())}else{if(arguments.length===3){return new Date(0,0,0,arguments[0],arguments[1],arguments[2])}else{if(arguments.length===2){return new Date(0,0,0,arguments[0],arguments[1],0)}else{return new Date(0,0,0)}}}}c.TimePicker=function(){var g=this;g.container=c(".ui-timepicker-container");g.ui=g.container.find(".ui-timepicker");if(g.container.length===0){g.container=c("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide();g.ui=c("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(g.container);g.viewport=c("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(g.ui);if(c.fn.jquery>="1.4.2"){g.ui.delegate("a","mouseenter.timepicker",function(){g.activate(false,c(this).parent())}).delegate("a","mouseleave.timepicker",function(){g.deactivate(false)}).delegate("a","click.timepicker",function(h){h.preventDefault();g.select(false,c(this).parent())})}}};c.TimePicker.count=0;c.TimePicker.instance=function(){if(!c.TimePicker._instance){c.TimePicker._instance=new c.TimePicker()}return c.TimePicker._instance};c.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(j,k){var m=this,h=c("<ul></ul>"),l=null,n,g;if(j.options.timeFormat.indexOf("m")===-1&&j.options.interval%60!==0){j.options.interval=Math.max(Math.round(j.options.interval/60),1)*60}if(k){n=e(k)}else{if(j.options.startTime){n=e(j.options.startTime)}else{n=e(j.options.startHour,j.options.startMinutes)}}g=new Date(n.getTime()+24*60*60*1000);while(n<g){if(m._isValidTime(j,n)){l=c("<li>").addClass("ui-menu-item").appendTo(h);c("<a>").addClass("ui-corner-all").text(c.fn.timepicker.formatTime(j.options.timeFormat,n)).appendTo(l);l.data("time-value",n)}n=new Date(n.getTime()+j.options.interval*60*1000)}return h.children()},_isValidTime:function(j,k){var h=null,g=null;k=e(k);if(j.options.minTime!==null){h=e(j.options.minTime)}else{if(j.options.minHour!==null||j.options.minMinutes!==null){h=e(j.options.minHour,j.options.minMinutes)}}if(j.options.maxTime!==null){g=e(j.options.maxTime)}else{if(j.options.maxHour!==null||j.options.maxMinutes!==null){g=e(j.options.maxHour,j.options.maxMinutes)}}if(h!==null&&g!==null){return k>=h&&k<=g}else{if(h!==null){return k>=h}else{if(g!==null){return k<=g}}}return true},_hasScroll:function(){var g=typeof this.ui.prop!=="undefined"?"prop":"attr";return this.ui.height()<this.ui[g]("scrollHeight")},_move:function(g,l,j){var k=this;if(k.closed()){k.open(g)}if(!k.active){k.activate(g,k.viewport.children(j));return}var h=k.active[l+"All"](".ui-menu-item").eq(0);if(h.length){k.activate(g,h)}else{k.activate(g,k.viewport.children(j))}},register:function(j,g){var k=this,h={};h.element=c(j);if(h.element.data("TimePicker")){return}h.options=c.metadata?c.extend({},g,h.element.metadata()):c.extend({},g);h.widget=k;c.extend(h,{next:function(){return k.next(h)},previous:function(){return k.previous(h)},first:function(){return k.first(h)},last:function(){return k.last(h)},selected:function(){return k.selected(h)},open:function(){return k.open(h)},close:function(){return k.close(h)},closed:function(){return k.closed(h)},destroy:function(){return k.destroy(h)},parse:function(i){return k.parse(h,i)},format:function(l,i){return k.format(h,l,i)},getTime:function(){return k.getTime(h)},setTime:function(l,i){return k.setTime(h,l,i)},option:function(i,l){return k.option(h,i,l)}});k._setDefaultTime(h);k._addInputEventsHandlers(h);h.element.data("TimePicker",h)},_setDefaultTime:function(g){if(g.options.defaultTime==="now"){g.setTime(e(new Date()))}else{if(g.options.defaultTime&&g.options.defaultTime.getFullYear){g.setTime(e(g.options.defaultTime))}else{if(g.options.defaultTime){g.setTime(c.fn.timepicker.parseTime(g.options.defaultTime))}}}},_addInputEventsHandlers:function(g){var h=this;g.element.bind("keydown.timepicker",function(i){switch(i.which||i.keyCode){case h.keyCode.ENTER:case h.keyCode.NUMPAD_ENTER:i.preventDefault();if(h.closed()){g.element.trigger("change.timepicker")}else{h.select(g,h.active)}break;case h.keyCode.UP:g.previous();break;case h.keyCode.DOWN:g.next();break;default:if(!h.closed()){g.close(true)}break}}).bind("focus.timepicker",function(){g.open()}).bind("blur.timepicker",function(){setTimeout(function(){if(g.element.data("timepicker-user-clicked-outside")){g.close()}})}).bind("change.timepicker",function(){if(g.closed()){g.setTime(c.fn.timepicker.parseTime(g.element.val()))}})},select:function(h,j){var k=this,g=h===false?k.instance:h;k.setTime(g,c.fn.timepicker.parseTime(j.children("a").text()));k.close(g,true)},activate:function(k,l){var m=this,j=k===false?m.instance:k;if(j!==m.instance){return}else{m.deactivate()}if(m._hasScroll()){var n=l.offset().top-m.ui.offset().top,h=m.ui.scrollTop(),g=m.ui.height();if(n<0){m.ui.scrollTop(h+n)}else{if(n>=g){m.ui.scrollTop(h+n-g+l.height())}}}m.active=l.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()},deactivate:function(){var g=this;if(!g.active){return}g.active.children("a").removeClass("ui-state-hover").removeAttr("id");g.active=null},next:function(g){if(this.closed()||this.instance===g){this._move(g,"next",".ui-menu-item:first")}return g.element},previous:function(g){if(this.closed()||this.instance===g){this._move(g,"prev",".ui-menu-item:last")}return g.element},first:function(g){if(this.instance===g){return this.active&&this.active.prevAll(".ui-menu-item").length===0}return false},last:function(g){if(this.instance===g){return this.active&&this.active.nextAll(".ui-menu-item").length===0}return false},selected:function(g){if(this.instance===g){return this.active?this.active:null}return null},open:function(k){var l=this,n=k.getTime(),o=k.options.dynamic&&n;if(!k.options.dropdown){return k.element}k.element.data("timepicker-event-namespace",Math.random());c(a).bind("click.timepicker-"+k.element.data("timepicker-event-namespace"),function(i){if(k.element.get(0)===i.target){k.element.data("timepicker-user-clicked-outside",false)}else{k.element.data("timepicker-user-clicked-outside",true).blur()}});if(k.rebuild||!k.items||o){k.items=l._items(k,o?n:null)}if(k.rebuild||l.instance!==k||o){if(c.fn.jquery<"1.4.2"){l.viewport.children().remove();l.viewport.append(k.items);l.viewport.find("a").bind("mouseover.timepicker",function(){l.activate(k,c(this).parent())}).bind("mouseout.timepicker",function(){l.deactivate(k)}).bind("click.timepicker",function(i){i.preventDefault();l.select(k,c(this).parent())})}else{l.viewport.children().detach();l.viewport.append(k.items)}}k.rebuild=false;l.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show();switch(k.options.theme){case"standard":l.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":l.container.addClass("ui-timepicker-standard ui-timepicker-corners");break;default:break}if(!l.container.hasClass("ui-timepicker-no-scrollbar")&&!k.options.scrollbar){l.container.addClass("ui-timepicker-no-scrollbar");l.viewport.css({paddingRight:40})}var m=l.container.outerHeight()-l.container.height(),j=k.options.zindex?k.options.zindex:k.element.offsetParent().css("z-index"),h=k.element.offset();l.container.css({top:h.top+k.element.outerHeight(),left:h.left});l.container.show();l.container.css({left:k.element.offset().left,height:l.ui.outerHeight()+m,width:k.element.outerWidth(),zIndex:j,cursor:"default"});var g=l.container.width()-(l.ui.outerWidth()-l.ui.width());l.ui.css({width:g});l.viewport.css({width:g});k.items.css({width:g});l.instance=k;if(n){k.items.each(function(){var i=c(this),p;if(c.fn.jquery<"1.4.2"){p=c.fn.timepicker.parseTime(i.find("a").text())}else{p=i.data("time-value")}if(p.getTime()===n.getTime()){l.activate(k,i);return false}return true})}else{l.deactivate(k)}return k.element},close:function(g){var h=this;if(h.instance===g){h.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide();h.ui.scrollTop(0);h.ui.children().removeClass("ui-state-hover")}c(a).unbind("click.timepicker-"+g.element.data("timepicker-event-namespace"));return g.element},closed:function(){return this.ui.is(":hidden")},destroy:function(g){var h=this;h.close(g,true);return g.element.unbind(".timepicker").data("TimePicker",null)},parse:function(g,h){return c.fn.timepicker.parseTime(h)},format:function(g,j,h){h=h||g.options.timeFormat;return c.fn.timepicker.formatTime(h,j)},getTime:function(g){var h=this,j=c.fn.timepicker.parseTime(g.element.val());if(j instanceof Date&&!h._isValidTime(g,j)){return null}else{if(j instanceof Date&&g.selectedTime){if(g.format(j)===g.format(g.selectedTime)){return g.selectedTime}else{return j}}else{if(j instanceof Date){return j}else{return null}}}},setTime:function(h,l,g){var k=this,j=h.selectedTime;if(typeof l==="string"){l=h.parse(l)}if(l&&l.getMinutes&&k._isValidTime(h,l)){l=e(l);h.selectedTime=l;h.element.val(h.format(l,h.options.timeFormat));if(g){return h}}else{h.selectedTime=null}if(j!==null||h.selectedTime!==null){h.element.trigger("time-change",[l]);if(c.isFunction(h.options.change)){h.options.change.apply(h.element,[l])}}return h.element},option:function(j,h,k){if(typeof k==="undefined"){return j.options[h]}var l=j.getTime(),g,m;if(typeof h==="string"){g={};g[h]=k}else{g=h}m=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"];c.each(g,function(i){j.options[i]=g[i];j.rebuild=j.rebuild||c.inArray(i,m)>-1});if(j.rebuild){j.setTime(l)}}};c.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:true,theme:"standard",zindex:null,dropdown:true,scrollbar:false,change:function(){}};c.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]};c.fn.timepicker=function(i){if(typeof i==="string"){var h=Array.prototype.slice.call(arguments,1),k,g;if(i==="option"&&arguments.length>2){k="each"}else{if(c.inArray(i,c.TimePicker.methods.chainable)!==-1){k="each"}else{k="map"}}g=this[k](function(){var m=c(this),l=m.data("TimePicker");if(typeof l==="object"){return l[i].apply(l,h)}});if(k==="map"&&this.length===1){return c.makeArray(g).shift()}else{if(k==="map"){return c.makeArray(g)}else{return g}}}if(this.length===1&&this.data("TimePicker")){return this.data("TimePicker")}var j=c.extend({},c.TimePicker.defaults,i);return this.each(function(){c.TimePicker.instance().register(this,j)})};c.fn.timepicker.formatTime=function(p,g){var n=g.getHours(),l=n%12,j=g.getMinutes(),o=g.getSeconds(),h={hh:f((l===0?12:l).toString(),"0",2),HH:f(n.toString(),"0",2),mm:f(j.toString(),"0",2),ss:f(o.toString(),"0",2),h:(l===0?12:l),H:n,m:j,s:o,p:n>11?"PM":"AM"},m=p,i="";for(i in h){if(h.hasOwnProperty(i)){m=m.replace(new RegExp(i,"g"),h[i])}}m=m.replace(new RegExp("a","g"),n>11?"pm":"am");return m};c.fn.timepicker.parseTime=(function(){var g=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]],h=g.length;return function(r){var q=e(new Date()),p=false,l=false,o=false,i=false,n=false;if(typeof r==="undefined"||!r.toLowerCase){return null}r=r.toLowerCase();p=/a/.test(r);l=p?false:/p/.test(r);r=r.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var j=0;j<h;j=j+1){if(g[j][0].test(r)){r=r.replace(g[j][0],g[j][1]);break}}r=r.replace(/:/g,"");if(r.length===1){o=r}else{if(r.length===2){o=r}else{if(r.length===3||r.length===5){o=r.substr(0,1);i=r.substr(1,2);n=r.substr(3,2)}else{if(r.length===4||r.length>5){o=r.substr(0,2);i=r.substr(2,2);n=r.substr(4,2)}}}}if(r.length>0&&r.length<5){if(r.length<3){i=0}n=0}if(o===false||i===false||n===false){return false}o=parseInt(o,10);i=parseInt(i,10);n=parseInt(n,10);if(p&&o===12){o=0}else{if(l&&o<12){o=o+12}}if(o>24){if(r.length>=6){return c.fn.timepicker.parseTime(r.substr(0,5))}else{return c.fn.timepicker.parseTime(r+"0"+(p?"a":"")+(l?"p":""))}}else{q.setHours(o,i,n);return q}}})()})()}));